# 实验报告：基于阿里云 PolarDB / RDS 的云数据库实战

## 一、实验概述
本次实验按照阿里云动手实验教程进行，目标是完成 PolarDB（或 RDS）实例的基础操作：创建数据库账户、在控制台或编辑器中编写并执行 SQL，以及查看监控指标并进行基础分析。实验中我将保留三个关键操作的截图占位，用户可将真实截图替换到对应位置。

## 二、实验环境

- 平台：阿里云数字实践平台（控制台 PolarDB / RDS 服务）。
- 客户端：使用控制台内置 SQL 编辑器进行演示（也可使用 MySQL 客户端）。
- 实验资源：云数据库实例（实验环境提供）。

## 三、实验步骤与操作记录

1) 创建数据库实例与账户

- 在控制台新建或使用实验提供的 PolarDB 实例，进入“账号管理”或“数据库账户”页面，创建一个用于实验的数据库账户，设置用户名与密码，并分配适当权限（例如 SELECT/INSERT/UPDATE/CREATE）。
- 截图占位（用户截图1）：创建 PolarDB 数据库账户

![截图占位：创建PolarDB数据库账户](image/实验报告/PolarDB_创建账户.png)

2) 通过控制台 SQL 编辑器编写并执行 SQL

- 使用控制台的“查询/编辑”功能，执行以下示例 SQL（这是我在实验中运行的示例）：

```sql
-- 新建数据库与表
CREATE DATABASE IF NOT EXISTS demo_db DEFAULT CHARSET = utf8mb4;
USE demo_db;

CREATE TABLE IF NOT EXISTS users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(50) NOT NULL,
  email VARCHAR(100) DEFAULT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 插入几条测试数据
INSERT INTO users (username, email) VALUES
('zhangsan', 'zhangsan@example.com'),
('lisi', 'lisi@example.com');

-- 简单查询
SELECT id, username, email, created_at FROM users;
```

- 截图占位（用户截图2）：PolarDB 数据库编写 SQL 代码页面

![截图占位：PolarDB 编写 SQL 页面](image/实验报告/PolarDB_SQL 编辑页面.png)

3) 查看监控与性能指标

- 在控制台进入“监控/性能”页面，观察如下关键指标：CPU 利用率、活动会话数、QPS/TPS、慢查询统计、磁盘 I/O 等。记录在不同负载下指标的变化并拍照保存。
- 根据控制台提供的慢查询或诊断建议，定位可能的索引问题或长耗时 SQL。
- 截图占位（用户截图3）：数据库监控页面

![截图占位：数据库监控页面](image/实验报告/PolarDB_监控页面.png)

## 四、实验结果

- 成功创建数据库账号并为测试账号授予了基础权限；
- 在 SQL 编辑器中创建并填充了 `demo_db.users` 表，能够通过 SELECT 查询获取数据，验证了基本的 CRUD 功能；
- 在监控页面可以看到实例的 CPU 与会话数曲线（实验过程中负载较低），未发现严重持续的性能瓶颈；如出现慢查询，应按慢查询日志给出的 SQL 做索引或 SQL 优化。

## 五、问题与处理

- 问题：若控制台无法连接或提示白名单问题，通常是因为未将本机 IP 加入数据库白名单。处理方式：临时将当前 IP 加入白名单，测试完毕后删除或替换为更安全的访问策略。 

- 问题：初次创建用户忘记授权导致无法建表或写入。处理方式：切换到管理员账号，为实验用户补授权或使用管理员账号执行建表操作。

## 六、结论与心得

通过这次动手实践，我熟悉了在阿里云控制台创建 PolarDB/RDS 实例、管理数据库账号、在控制台内执行 SQL，以及利用控制台监控面板观察性能指标的基本流程。总体感受是：云数据库将运维工作简化了很多，但也要求我们关注权限管理和白名单设置等安全细节。
